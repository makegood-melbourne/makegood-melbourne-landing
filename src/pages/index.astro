---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navigation from '../components/Navigation';
import HeroSection from '../components/HeroSection.astro';
import SpecialistsSection from '../components/SpecialistsSection.astro';
import ServicesGrid from '../components/ServicesGrid.astro';
import IndexContent from '../components/IndexContent';
import FAQ from '../components/FAQ.astro';
import CtaBlock from '../components/CtaBlock.astro';
import Footer from '../components/Footer';
import FloatingCTAs from '../components/FloatingCTAs';
import { homepageFaqs } from '../data/faqs';

// Generate FAQPage schema from homepage FAQs
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": homepageFaqs.map(faq => ({
    "@type": "Question",
    "name": faq.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": faq.answer
    }
  }))
};

// LocalBusiness schema
const businessSchema = {
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "additionalType": "https://schema.org/HomeAndConstructionBusiness",
  "@id": "https://makegood.melbourne/#localbusiness",
  "name": "Make Good Melbourne",
  "url": "https://makegood.melbourne/",
  "logo": "https://makegood.melbourne/makegood-melbourne-logo.png",
  "image": [
    "https://makegood.melbourne/og-default.jpg",
    "https://makegood.melbourne/images/commercial-property-restoration-capabilities-melbourne.jpg"
  ],
  "email": "info@makegood.melbourne",
  "description": "Professional make good, make safe and remediation services for commercial and industrial properties across Melbourne. Expert end-of-lease restoration, office strip-outs, warehouse restoration, and building remediation throughout Victoria.",
  "address": {
    "@type": "PostalAddress",
    "addressLocality": "Melbourne",
    "addressRegion": "VIC",
    "addressCountry": "AU"
  },
  "contactPoint": {
    "@type": "ContactPoint",
    "email": "info@makegood.melbourne",
    "contactType": "customer service"
  },
  "areaServed": [
    {
      "@type": "City",
      "name": "Melbourne"
    },
    {
      "@type": "State",
      "name": "Victoria"
    }
  ],
  "serviceType": [
    "Make Good Services",
    "End of Lease Restoration",
    "Office Strip Outs",
    "Warehouse Restoration",
    "Building Remediation",
    "Make Safe Services",
    "Commercial Property Restoration"
  ]
};
---

<BaseLayout 
  title="Make Good Services Melbourne | Offices, Warehouses & Industrial"
  description="Melbourne's make good specialists for offices, warehouses and industrial properties. End-of-lease restoration, strip outs and remediation. All trades, one point of contact."
  ogImage="/og/commercial.jpg"
  canonicalUrl="https://makegood.melbourne/"
>
  <!-- JSON-LD Schemas -->
  <Fragment slot="head">
    <script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
    <script type="application/ld+json" set:html={JSON.stringify(businessSchema)} />
  </Fragment>

  <main class="min-h-screen bg-background text-foreground">
    <Navigation client:load />
    <HeroSection />
    <SpecialistsSection />
    <ServicesGrid />
    <IndexContent client:idle />
    <FAQ />
    <CtaBlock />
    <Footer client:load />
    <FloatingCTAs client:load />
  </main>
</BaseLayout>
